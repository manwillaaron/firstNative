{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import PropTypes from'prop-types';import findNodeHandle from\"react-native-web/dist/exports/findNodeHandle\";import Platform from\"react-native-web/dist/exports/Platform\";import NativeModules from\"react-native-web/dist/exports/NativeModules\";import ViewPropTypes from\"react-native-web/dist/exports/ViewPropTypes\";import{requireNativeComponent}from\"react-native-web/dist/index\";import View from\"react-native-web/dist/exports/View\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import PermissionsAndroid from\"react-native-web/dist/exports/PermissionsAndroid\";var Rationale=PropTypes.shape({title:PropTypes.string.isRequired,message:PropTypes.string.isRequired,buttonPositive:PropTypes.string,buttonNegative:PropTypes.string,buttonNeutral:PropTypes.string});var requestPermissions=function requestPermissions(captureAudio,CameraManager,androidCameraPermissionOptions,androidRecordAudioPermissionOptions){var hasCameraPermissions,hasRecordAudioPermissions,cameraPermissionResult,audioPermissionResult;return _regeneratorRuntime.async(function requestPermissions$(_context){while(1){switch(_context.prev=_context.next){case 0:hasCameraPermissions=false;hasRecordAudioPermissions=false;if(!(Platform.OS==='ios')){_context.next=8;break;}_context.next=5;return _regeneratorRuntime.awrap(CameraManager.checkVideoAuthorizationStatus());case 5:hasCameraPermissions=_context.sent;_context.next=13;break;case 8:if(!(Platform.OS==='android')){_context.next=13;break;}_context.next=11;return _regeneratorRuntime.awrap(PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA,androidCameraPermissionOptions));case 11:cameraPermissionResult=_context.sent;if(typeof cameraPermissionResult==='boolean'){hasCameraPermissions=cameraPermissionResult;}else{hasCameraPermissions=cameraPermissionResult===PermissionsAndroid.RESULTS.GRANTED;}case 13:if(!captureAudio){_context.next=31;break;}if(!(Platform.OS==='ios')){_context.next=20;break;}_context.next=17;return _regeneratorRuntime.awrap(CameraManager.checkRecordAudioAuthorizationStatus());case 17:hasRecordAudioPermissions=_context.sent;_context.next=31;break;case 20:if(!(Platform.OS==='android')){_context.next=31;break;}_context.next=23;return _regeneratorRuntime.awrap(CameraManager.checkIfRecordAudioPermissionsAreDefined());case 23:if(!_context.sent){_context.next=30;break;}_context.next=26;return _regeneratorRuntime.awrap(PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,androidRecordAudioPermissionOptions));case 26:audioPermissionResult=_context.sent;if(typeof audioPermissionResult==='boolean'){hasRecordAudioPermissions=audioPermissionResult;}else{hasRecordAudioPermissions=audioPermissionResult===PermissionsAndroid.RESULTS.GRANTED;}_context.next=31;break;case 30:if(__DEV__){console.warn(\"The 'captureAudio' property set on RNCamera instance but 'RECORD_AUDIO' permissions not defined in the applications 'AndroidManifest.xml'. \"+\"If you want to record audio you will have to add '<uses-permission android:name=\\\"android.permission.RECORD_AUDIO\\\"/>' to your 'AndroidManifest.xml'. \"+\"Otherwise you should set the 'captureAudio' property on the component instance to 'false'.\");}case 31:return _context.abrupt(\"return\",{hasCameraPermissions:hasCameraPermissions,hasRecordAudioPermissions:hasRecordAudioPermissions});case 32:case\"end\":return _context.stop();}}});};var styles=StyleSheet.create({authorizationContainer:{flex:1,alignItems:'center',justifyContent:'center'},notAuthorizedText:{textAlign:'center',fontSize:16}});var CameraStatus={READY:'READY',PENDING_AUTHORIZATION:'PENDING_AUTHORIZATION',NOT_AUTHORIZED:'NOT_AUTHORIZED'};var RecordAudioPermissionStatusEnum={AUTHORIZED:'AUTHORIZED',PENDING_AUTHORIZATION:'PENDING_AUTHORIZATION',NOT_AUTHORIZED:'NOT_AUTHORIZED'};var CameraManager=NativeModules.RNCameraManager||NativeModules.RNCameraModule||{stubbed:true,Type:{back:1},AutoFocus:{on:1},FlashMode:{off:1},WhiteBalance:{},BarCodeType:{},FaceDetection:{fast:1,Mode:{},Landmarks:{none:0},Classifications:{none:0}},GoogleVisionBarcodeDetection:{BarcodeType:0,BarcodeMode:0}};var EventThrottleMs=500;var mapValues=function mapValues(input,mapper){var result={};Object.entries(input).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];result[key]=mapper(value,key);});return result;};var Camera=function(_React$Component){_inherits(Camera,_React$Component);function Camera(props){var _this;_classCallCheck(this,Camera);_this=_possibleConstructorReturn(this,_getPrototypeOf(Camera).call(this,props));_this.getAvailablePictureSizes=function _callee(){return _regeneratorRuntime.async(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(CameraManager.getAvailablePictureSizes(_this.props.ratio,_this._cameraHandle));case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}});};_this._onMountError=function(_ref3){var nativeEvent=_ref3.nativeEvent;if(_this.props.onMountError){_this.props.onMountError(nativeEvent);}};_this._onCameraReady=function(){if(_this.props.onCameraReady){_this.props.onCameraReady();}};_this._onAudioInterrupted=function(){if(_this.props.onAudioInterrupted){_this.props.onAudioInterrupted();}};_this._onAudioConnected=function(){if(_this.props.onAudioConnected){_this.props.onAudioConnected();}};_this._onStatusChange=function(){if(_this.props.onStatusChange){_this.props.onStatusChange({cameraStatus:_this.getStatus(),recordAudioPermissionStatus:_this.state.recordAudioPermissionStatus});}};_this._onPictureSaved=function(_ref4){var nativeEvent=_ref4.nativeEvent;if(_this.props.onPictureSaved){_this.props.onPictureSaved(nativeEvent);}};_this._onObjectDetected=function(callback){return function(_ref5){var nativeEvent=_ref5.nativeEvent;var type=nativeEvent.type;if(_this._lastEvents[type]&&_this._lastEventsTimes[type]&&JSON.stringify(nativeEvent)===_this._lastEvents[type]&&new Date()-_this._lastEventsTimes[type]<EventThrottleMs){return;}if(callback){callback(nativeEvent);_this._lastEventsTimes[type]=new Date();_this._lastEvents[type]=JSON.stringify(nativeEvent);}};};_this._onSubjectAreaChanged=function(e){if(_this.props.onSubjectAreaChanged){_this.props.onSubjectAreaChanged(e);}};_this._setReference=function(ref){if(ref){_this._cameraRef=ref;_this._cameraHandle=findNodeHandle(ref);}else{_this._cameraRef=null;_this._cameraHandle=null;}};_this.getStatus=function(){var _this$state=_this.state,isAuthorized=_this$state.isAuthorized,isAuthorizationChecked=_this$state.isAuthorizationChecked;if(isAuthorizationChecked===false){return CameraStatus.PENDING_AUTHORIZATION;}return isAuthorized?CameraStatus.READY:CameraStatus.NOT_AUTHORIZED;};_this.hasFaCC=function(){return typeof _this.props.children==='function';};_this.renderChildren=function(){if(_this.hasFaCC()){return _this.props.children({camera:_assertThisInitialized(_this),status:_this.getStatus(),recordAudioPermissionStatus:_this.state.recordAudioPermissionStatus});}return _this.props.children;};_this._lastEvents={};_this._lastEventsTimes={};_this._isMounted=true;_this.state={isAuthorized:false,isAuthorizationChecked:false,recordAudioPermissionStatus:RecordAudioPermissionStatusEnum.PENDING_AUTHORIZATION};return _this;}_createClass(Camera,[{key:\"takePictureAsync\",value:function takePictureAsync(options){var _options,orientation;return _regeneratorRuntime.async(function takePictureAsync$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!options){options={};}if(!options.quality){options.quality=1;}if(options.orientation){if(typeof options.orientation!=='number'){_options=options,orientation=_options.orientation;options.orientation=CameraManager.Orientation[orientation];if(__DEV__){if(typeof options.orientation!=='number'){console.warn(\"Orientation '\"+orientation+\"' is invalid.\");}}}}if(options.pauseAfterCapture===undefined){options.pauseAfterCapture=false;}if(this._cameraHandle){_context3.next=6;break;}throw'Camera handle cannot be null';case 6:_context3.next=8;return _regeneratorRuntime.awrap(CameraManager.takePicture(options,this._cameraHandle));case 8:return _context3.abrupt(\"return\",_context3.sent);case 9:case\"end\":return _context3.stop();}}},null,this);}},{key:\"getSupportedRatiosAsync\",value:function getSupportedRatiosAsync(){return _regeneratorRuntime.async(function getSupportedRatiosAsync$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(Platform.OS==='android')){_context4.next=6;break;}_context4.next=3;return _regeneratorRuntime.awrap(CameraManager.getSupportedRatios(this._cameraHandle));case 3:return _context4.abrupt(\"return\",_context4.sent);case 6:throw new Error('Ratio is not supported on iOS');case 7:case\"end\":return _context4.stop();}}},null,this);}},{key:\"getCameraIdsAsync\",value:function getCameraIdsAsync(){return _regeneratorRuntime.async(function getCameraIdsAsync$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(Platform.OS==='android')){_context5.next=6;break;}_context5.next=3;return _regeneratorRuntime.awrap(CameraManager.getCameraIds(this._cameraHandle));case 3:return _context5.abrupt(\"return\",_context5.sent);case 6:_context5.next=8;return _regeneratorRuntime.awrap(CameraManager.getCameraIds());case 8:return _context5.abrupt(\"return\",_context5.sent);case 9:case\"end\":return _context5.stop();}}},null,this);}},{key:\"recordAsync\",value:function recordAsync(options){var _options2,orientation,recordAudioPermissionStatus,captureAudio;return _regeneratorRuntime.async(function recordAsync$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!options||typeof options!=='object'){options={};}else if(typeof options.quality==='string'){options.quality=Camera.Constants.VideoQuality[options.quality];}if(options.orientation){if(typeof options.orientation!=='number'){_options2=options,orientation=_options2.orientation;options.orientation=CameraManager.Orientation[orientation];if(__DEV__){if(typeof options.orientation!=='number'){console.warn(\"Orientation '\"+orientation+\"' is invalid.\");}}}}if(__DEV__){if(options.videoBitrate&&typeof options.videoBitrate!=='number'){console.warn('Video Bitrate should be a positive integer');}}recordAudioPermissionStatus=this.state.recordAudioPermissionStatus;captureAudio=this.props.captureAudio;if(!captureAudio||recordAudioPermissionStatus!==RecordAudioPermissionStatusEnum.AUTHORIZED){options.mute=true;}if(__DEV__){if((!options.mute||captureAudio)&&recordAudioPermissionStatus!==RecordAudioPermissionStatusEnum.AUTHORIZED){console.warn('Recording with audio not possible. Permissions are missing.');}}_context6.next=9;return _regeneratorRuntime.awrap(CameraManager.record(options,this._cameraHandle));case 9:return _context6.abrupt(\"return\",_context6.sent);case 10:case\"end\":return _context6.stop();}}},null,this);}},{key:\"stopRecording\",value:function stopRecording(){CameraManager.stopRecording(this._cameraHandle);}},{key:\"pausePreview\",value:function pausePreview(){CameraManager.pausePreview(this._cameraHandle);}},{key:\"isRecording\",value:function isRecording(){return CameraManager.isRecording(this._cameraHandle);}},{key:\"resumePreview\",value:function resumePreview(){CameraManager.resumePreview(this._cameraHandle);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"arePermissionsGranted\",value:function arePermissionsGranted(){var _this$props,permissionDialogTitle,permissionDialogMessage,androidCameraPermissionOptions,androidRecordAudioPermissionOptions,cameraPermissions,audioPermissions,_ref6,hasCameraPermissions,hasRecordAudioPermissions,recordAudioPermissionStatus;return _regeneratorRuntime.async(function arePermissionsGranted$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this$props=this.props,permissionDialogTitle=_this$props.permissionDialogTitle,permissionDialogMessage=_this$props.permissionDialogMessage,androidCameraPermissionOptions=_this$props.androidCameraPermissionOptions,androidRecordAudioPermissionOptions=_this$props.androidRecordAudioPermissionOptions;cameraPermissions=androidCameraPermissionOptions;audioPermissions=androidRecordAudioPermissionOptions;if(permissionDialogTitle||permissionDialogMessage){console.warn('permissionDialogTitle and permissionDialogMessage are deprecated. Please use androidCameraPermissionOptions instead.');cameraPermissions=_objectSpread({},cameraPermissions,{title:permissionDialogTitle,message:permissionDialogMessage});audioPermissions=_objectSpread({},audioPermissions,{title:permissionDialogTitle,message:permissionDialogMessage});}_context7.next=6;return _regeneratorRuntime.awrap(requestPermissions(this.props.captureAudio,CameraManager,cameraPermissions,audioPermissions));case 6:_ref6=_context7.sent;hasCameraPermissions=_ref6.hasCameraPermissions;hasRecordAudioPermissions=_ref6.hasRecordAudioPermissions;recordAudioPermissionStatus=hasRecordAudioPermissions?RecordAudioPermissionStatusEnum.AUTHORIZED:RecordAudioPermissionStatusEnum.NOT_AUTHORIZED;return _context7.abrupt(\"return\",{hasCameraPermissions:hasCameraPermissions,recordAudioPermissionStatus:recordAudioPermissionStatus});case 11:case\"end\":return _context7.stop();}}},null,this);}},{key:\"refreshAuthorizationStatus\",value:function refreshAuthorizationStatus(){var _ref7,hasCameraPermissions,recordAudioPermissionStatus;return _regeneratorRuntime.async(function refreshAuthorizationStatus$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _regeneratorRuntime.awrap(this.arePermissionsGranted());case 2:_ref7=_context8.sent;hasCameraPermissions=_ref7.hasCameraPermissions;recordAudioPermissionStatus=_ref7.recordAudioPermissionStatus;if(!(this._isMounted===false)){_context8.next=7;break;}return _context8.abrupt(\"return\");case 7:this.setState({isAuthorized:hasCameraPermissions,isAuthorizationChecked:true,recordAudioPermissionStatus:recordAudioPermissionStatus});case 8:case\"end\":return _context8.stop();}}},null,this);}},{key:\"componentDidMount\",value:function componentDidMount(){var _ref8,hasCameraPermissions,recordAudioPermissionStatus;return _regeneratorRuntime.async(function componentDidMount$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return _regeneratorRuntime.awrap(this.arePermissionsGranted());case 2:_ref8=_context9.sent;hasCameraPermissions=_ref8.hasCameraPermissions;recordAudioPermissionStatus=_ref8.recordAudioPermissionStatus;if(!(this._isMounted===false)){_context9.next=7;break;}return _context9.abrupt(\"return\");case 7:this.setState({isAuthorized:hasCameraPermissions,isAuthorizationChecked:true,recordAudioPermissionStatus:recordAudioPermissionStatus},this._onStatusChange);case 8:case\"end\":return _context9.stop();}}},null,this);}},{key:\"render\",value:function render(){var _this$_convertNativeP=this._convertNativeProps(this.props),style=_this$_convertNativeP.style,nativeProps=_objectWithoutProperties(_this$_convertNativeP,[\"style\"]);if(this.state.isAuthorized||this.hasFaCC()){return React.createElement(View,{style:style},React.createElement(RNCamera,_extends({},nativeProps,{style:StyleSheet.absoluteFill,ref:this._setReference,onMountError:this._onMountError,onCameraReady:this._onCameraReady,onAudioInterrupted:this._onAudioInterrupted,onAudioConnected:this._onAudioConnected,onGoogleVisionBarcodesDetected:this._onObjectDetected(this.props.onGoogleVisionBarcodesDetected),onBarCodeRead:this._onObjectDetected(this.props.onBarCodeRead),onFacesDetected:this._onObjectDetected(this.props.onFacesDetected),onTextRecognized:this._onObjectDetected(this.props.onTextRecognized),onPictureSaved:this._onPictureSaved,onSubjectAreaChanged:this._onSubjectAreaChanged})),this.renderChildren());}else if(!this.state.isAuthorizationChecked){return this.props.pendingAuthorizationView;}else{return this.props.notAuthorizedView;}}},{key:\"_convertNativeProps\",value:function _convertNativeProps(_ref9){var children=_ref9.children,props=_objectWithoutProperties(_ref9,[\"children\"]);var newProps=mapValues(props,this._convertProp);if(props.onBarCodeRead){newProps.barCodeScannerEnabled=true;}if(props.onGoogleVisionBarcodesDetected){newProps.googleVisionBarcodeDetectorEnabled=true;}if(props.onFacesDetected){newProps.faceDetectorEnabled=true;}if(props.onTextRecognized){newProps.textRecognizerEnabled=true;}if(Platform.OS==='ios'){delete newProps.googleVisionBarcodeMode;delete newProps.ratio;}return newProps;}},{key:\"_convertProp\",value:function _convertProp(value,key){if(typeof value==='string'&&Camera.ConversionTables[key]){return Camera.ConversionTables[key][value];}return value;}}]);return Camera;}(React.Component);Camera.Constants={Type:CameraManager.Type,FlashMode:CameraManager.FlashMode,AutoFocus:CameraManager.AutoFocus,WhiteBalance:CameraManager.WhiteBalance,VideoQuality:CameraManager.VideoQuality,VideoCodec:CameraManager.VideoCodec,BarCodeType:CameraManager.BarCodeType,GoogleVisionBarcodeDetection:CameraManager.GoogleVisionBarcodeDetection,FaceDetection:CameraManager.FaceDetection,CameraStatus:CameraStatus,RecordAudioPermissionStatus:RecordAudioPermissionStatusEnum,VideoStabilization:CameraManager.VideoStabilization,Orientation:{auto:'auto',landscapeLeft:'landscapeLeft',landscapeRight:'landscapeRight',portrait:'portrait',portraitUpsideDown:'portraitUpsideDown'}};Camera.ConversionTables={type:CameraManager.Type,flashMode:CameraManager.FlashMode,exposure:CameraManager.Exposure,autoFocus:CameraManager.AutoFocus,whiteBalance:CameraManager.WhiteBalance,faceDetectionMode:(CameraManager.FaceDetection||{}).Mode,faceDetectionLandmarks:(CameraManager.FaceDetection||{}).Landmarks,faceDetectionClassifications:(CameraManager.FaceDetection||{}).Classifications,googleVisionBarcodeType:(CameraManager.GoogleVisionBarcodeDetection||{}).BarcodeType,videoStabilizationMode:CameraManager.VideoStabilization||{}};Camera.propTypes=_objectSpread({},ViewPropTypes,{zoom:PropTypes.number,maxZoom:PropTypes.number,ratio:PropTypes.string,focusDepth:PropTypes.number,onMountError:PropTypes.func,onCameraReady:PropTypes.func,onAudioInterrupted:PropTypes.func,onAudioConnected:PropTypes.func,onStatusChange:PropTypes.func,onBarCodeRead:PropTypes.func,onPictureTaken:PropTypes.func,onPictureSaved:PropTypes.func,onGoogleVisionBarcodesDetected:PropTypes.func,onFacesDetected:PropTypes.func,onTextRecognized:PropTypes.func,onSubjectAreaChanged:PropTypes.func,trackingEnabled:PropTypes.bool,faceDetectionMode:PropTypes.number,faceDetectionLandmarks:PropTypes.number,faceDetectionClassifications:PropTypes.number,barCodeTypes:PropTypes.arrayOf(PropTypes.string),googleVisionBarcodeType:PropTypes.number,googleVisionBarcodeMode:PropTypes.number,type:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),cameraId:PropTypes.string,flashMode:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),exposure:PropTypes.number,whiteBalance:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),autoFocus:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.bool]),autoFocusPointOfInterest:PropTypes.shape({x:PropTypes.number,y:PropTypes.number}),permissionDialogTitle:PropTypes.string,permissionDialogMessage:PropTypes.string,androidCameraPermissionOptions:Rationale,androidRecordAudioPermissionOptions:Rationale,notAuthorizedView:PropTypes.element,pendingAuthorizationView:PropTypes.element,captureAudio:PropTypes.bool,useCamera2Api:PropTypes.bool,playSoundOnCapture:PropTypes.bool,videoStabilizationMode:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),pictureSize:PropTypes.string,mirrorVideo:PropTypes.bool,rectOfInterest:PropTypes.any,defaultVideoQuality:PropTypes.oneOfType([PropTypes.string,PropTypes.number])});Camera.defaultProps={zoom:0,maxZoom:0,ratio:'4:3',focusDepth:0,type:CameraManager.Type.back,cameraId:null,autoFocus:CameraManager.AutoFocus.on,flashMode:CameraManager.FlashMode.off,exposure:-1,whiteBalance:CameraManager.WhiteBalance.auto,faceDetectionMode:(CameraManager.FaceDetection||{}).fast,barCodeTypes:Object.values(CameraManager.BarCodeType),googleVisionBarcodeType:((CameraManager.GoogleVisionBarcodeDetection||{}).BarcodeType||{}).None,googleVisionBarcodeMode:((CameraManager.GoogleVisionBarcodeDetection||{}).BarcodeMode||{}).NORMAL,faceDetectionLandmarks:((CameraManager.FaceDetection||{}).Landmarks||{}).none,faceDetectionClassifications:((CameraManager.FaceDetection||{}).Classifications||{}).none,permissionDialogTitle:'',permissionDialogMessage:'',androidCameraPermissionOptions:{title:'',message:''},androidRecordAudioPermissionOptions:{title:'',message:''},notAuthorizedView:React.createElement(View,{style:styles.authorizationContainer},React.createElement(Text,{style:styles.notAuthorizedText},\"Camera not authorized\")),pendingAuthorizationView:React.createElement(View,{style:styles.authorizationContainer},React.createElement(ActivityIndicator,{size:\"small\"})),captureAudio:true,useCamera2Api:false,playSoundOnCapture:false,pictureSize:'None',videoStabilizationMode:0,mirrorVideo:false};export{Camera as default};export var Constants=Camera.Constants;var RNCamera=requireNativeComponent('RNCamera',Camera,{nativeOnly:{accessibilityComponentType:true,accessibilityLabel:true,accessibilityLiveRegion:true,barCodeScannerEnabled:true,googleVisionBarcodeDetectorEnabled:true,faceDetectorEnabled:true,textRecognizerEnabled:true,importantForAccessibility:true,onBarCodeRead:true,onGoogleVisionBarcodesDetected:true,onCameraReady:true,onAudioInterrupted:true,onAudioConnected:true,onPictureSaved:true,onFaceDetected:true,onLayout:true,onMountError:true,onSubjectAreaChanged:true,renderToHardwareTextureAndroid:true,testID:true}});","map":{"version":3,"sources":["C:/Users/manwi/personal-projects/firstnative/node_modules/react-native-camera/src/RNCamera.js"],"names":["React","PropTypes","requireNativeComponent","Rationale","shape","title","string","isRequired","message","buttonPositive","buttonNegative","buttonNeutral","requestPermissions","captureAudio","CameraManager","androidCameraPermissionOptions","androidRecordAudioPermissionOptions","hasCameraPermissions","hasRecordAudioPermissions","Platform","OS","checkVideoAuthorizationStatus","PermissionsAndroid","request","PERMISSIONS","CAMERA","cameraPermissionResult","RESULTS","GRANTED","checkRecordAudioAuthorizationStatus","checkIfRecordAudioPermissionsAreDefined","RECORD_AUDIO","audioPermissionResult","__DEV__","console","warn","styles","StyleSheet","create","authorizationContainer","flex","alignItems","justifyContent","notAuthorizedText","textAlign","fontSize","CameraStatus","READY","PENDING_AUTHORIZATION","NOT_AUTHORIZED","RecordAudioPermissionStatusEnum","AUTHORIZED","NativeModules","RNCameraManager","RNCameraModule","stubbed","Type","back","AutoFocus","on","FlashMode","off","WhiteBalance","BarCodeType","FaceDetection","fast","Mode","Landmarks","none","Classifications","GoogleVisionBarcodeDetection","BarcodeType","BarcodeMode","EventThrottleMs","mapValues","input","mapper","result","Object","entries","map","key","value","Camera","props","getAvailablePictureSizes","ratio","_cameraHandle","_onMountError","nativeEvent","onMountError","_onCameraReady","onCameraReady","_onAudioInterrupted","onAudioInterrupted","_onAudioConnected","onAudioConnected","_onStatusChange","onStatusChange","cameraStatus","getStatus","recordAudioPermissionStatus","state","_onPictureSaved","onPictureSaved","_onObjectDetected","callback","type","_lastEvents","_lastEventsTimes","JSON","stringify","Date","_onSubjectAreaChanged","e","onSubjectAreaChanged","_setReference","ref","_cameraRef","findNodeHandle","isAuthorized","isAuthorizationChecked","hasFaCC","children","renderChildren","camera","status","_isMounted","options","quality","orientation","Orientation","pauseAfterCapture","undefined","takePicture","getSupportedRatios","Error","getCameraIds","Constants","VideoQuality","videoBitrate","mute","record","stopRecording","pausePreview","isRecording","resumePreview","permissionDialogTitle","permissionDialogMessage","cameraPermissions","audioPermissions","arePermissionsGranted","setState","_convertNativeProps","style","nativeProps","absoluteFill","onGoogleVisionBarcodesDetected","onBarCodeRead","onFacesDetected","onTextRecognized","pendingAuthorizationView","notAuthorizedView","newProps","_convertProp","barCodeScannerEnabled","googleVisionBarcodeDetectorEnabled","faceDetectorEnabled","textRecognizerEnabled","googleVisionBarcodeMode","ConversionTables","Component","VideoCodec","RecordAudioPermissionStatus","VideoStabilization","auto","landscapeLeft","landscapeRight","portrait","portraitUpsideDown","flashMode","exposure","Exposure","autoFocus","whiteBalance","faceDetectionMode","faceDetectionLandmarks","faceDetectionClassifications","googleVisionBarcodeType","videoStabilizationMode","propTypes","ViewPropTypes","zoom","number","maxZoom","focusDepth","func","onPictureTaken","trackingEnabled","bool","barCodeTypes","arrayOf","oneOfType","cameraId","autoFocusPointOfInterest","x","y","element","useCamera2Api","playSoundOnCapture","pictureSize","mirrorVideo","rectOfInterest","any","defaultVideoQuality","defaultProps","values","None","NORMAL","RNCamera","nativeOnly","accessibilityComponentType","accessibilityLabel","accessibilityLiveRegion","importantForAccessibility","onFaceDetected","onLayout","renderToHardwareTextureAndroid","testID"],"mappings":"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","sourcesContent":["// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  findNodeHandle,\n  Platform,\n  NativeModules,\n  ViewPropTypes,\n  requireNativeComponent,\n  View,\n  ActivityIndicator,\n  Text,\n  StyleSheet,\n  PermissionsAndroid,\n} from 'react-native';\n\nimport type { FaceFeature } from './FaceDetector';\n\nconst Rationale = PropTypes.shape({\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  buttonPositive: PropTypes.string,\n  buttonNegative: PropTypes.string,\n  buttonNeutral: PropTypes.string,\n});\n\nconst requestPermissions = async (\n  captureAudio: boolean,\n  CameraManager: any,\n  androidCameraPermissionOptions: Rationale,\n  androidRecordAudioPermissionOptions: Rationale,\n): Promise<{ hasCameraPermissions: boolean, hasRecordAudioPermissions: boolean }> => {\n  let hasCameraPermissions = false;\n  let hasRecordAudioPermissions = false;\n\n  if (Platform.OS === 'ios') {\n    hasCameraPermissions = await CameraManager.checkVideoAuthorizationStatus();\n  } else if (Platform.OS === 'android') {\n    const cameraPermissionResult = await PermissionsAndroid.request(\n      PermissionsAndroid.PERMISSIONS.CAMERA,\n      androidCameraPermissionOptions,\n    );\n    if (typeof cameraPermissionResult === 'boolean') {\n      hasCameraPermissions = cameraPermissionResult;\n    } else {\n      hasCameraPermissions = cameraPermissionResult === PermissionsAndroid.RESULTS.GRANTED;\n    }\n  }\n\n  if (captureAudio) {\n    if (Platform.OS === 'ios') {\n      hasRecordAudioPermissions = await CameraManager.checkRecordAudioAuthorizationStatus();\n    } else if (Platform.OS === 'android') {\n      if (await CameraManager.checkIfRecordAudioPermissionsAreDefined()) {\n        const audioPermissionResult = await PermissionsAndroid.request(\n          PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n          androidRecordAudioPermissionOptions,\n        );\n        if (typeof audioPermissionResult === 'boolean') {\n          hasRecordAudioPermissions = audioPermissionResult;\n        } else {\n          hasRecordAudioPermissions = audioPermissionResult === PermissionsAndroid.RESULTS.GRANTED;\n        }\n      } else if (__DEV__) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `The 'captureAudio' property set on RNCamera instance but 'RECORD_AUDIO' permissions not defined in the applications 'AndroidManifest.xml'. ` +\n            `If you want to record audio you will have to add '<uses-permission android:name=\"android.permission.RECORD_AUDIO\"/>' to your 'AndroidManifest.xml'. ` +\n            `Otherwise you should set the 'captureAudio' property on the component instance to 'false'.`,\n        );\n      }\n    }\n  }\n\n  return {\n    hasCameraPermissions,\n    hasRecordAudioPermissions,\n  };\n};\n\nconst styles = StyleSheet.create({\n  authorizationContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  notAuthorizedText: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n});\n\ntype Orientation = 'auto' | 'landscapeLeft' | 'landscapeRight' | 'portrait' | 'portraitUpsideDown';\ntype OrientationNumber = 1 | 2 | 3 | 4;\n\ntype PictureOptions = {\n  quality?: number,\n  orientation?: Orientation | OrientationNumber,\n  base64?: boolean,\n  mirrorImage?: boolean,\n  exif?: boolean,\n  writeExif?: boolean | { [name: string]: any },\n  width?: number,\n  fixOrientation?: boolean,\n  forceUpOrientation?: boolean,\n  pauseAfterCapture?: boolean,\n};\n\ntype TrackedFaceFeature = FaceFeature & {\n  faceID?: number,\n};\n\ntype TrackedTextFeature = {\n  type: string,\n  bounds: {\n    size: {\n      width: number,\n      height: number,\n    },\n    origin: {\n      x: number,\n      y: number,\n    },\n  },\n  value: string,\n  components: Array<TrackedTextFeature>,\n};\n\ntype TrackedBarcodeFeature = {\n  bounds: {\n    size: {\n      width: number,\n      height: number,\n    },\n    origin: {\n      x: number,\n      y: number,\n    },\n  },\n  data: string,\n  dataRaw: string,\n  type: BarcodeType,\n  addresses?: {\n    addressesType?: 'UNKNOWN' | 'Work' | 'Home',\n    addressLines?: string[],\n  }[],\n  emails?: Email[],\n  phones?: Phone[],\n  urls: ?(string[]),\n  name?: {\n    firstName?: string,\n    lastName?: string,\n    middleName?: string,\n    prefix?: string,\n    pronounciation?: string,\n    suffix?: string,\n    formattedName?: string,\n  },\n  phone?: Phone,\n  organization?: string,\n  latitude?: number,\n  longitude?: number,\n  ssid?: string,\n  password?: string,\n  encryptionType?: string,\n  title?: string,\n  url?: string,\n  firstName?: string,\n  middleName?: string,\n  lastName?: string,\n  gender?: string,\n  addressCity?: string,\n  addressState?: string,\n  addressStreet?: string,\n  addressZip?: string,\n  birthDate?: string,\n  documentType?: string,\n  licenseNumber?: string,\n  expiryDate?: string,\n  issuingDate?: string,\n  issuingCountry?: string,\n  eventDescription?: string,\n  location?: string,\n  organizer?: string,\n  status?: string,\n  summary?: string,\n  start?: string,\n  end?: string,\n  email?: Email,\n  phoneNumber?: string,\n  message?: string,\n};\n\ntype BarcodeType =\n  | 'EMAIL'\n  | 'PHONE'\n  | 'CALENDAR_EVENT'\n  | 'DRIVER_LICENSE'\n  | 'GEO'\n  | 'SMS'\n  | 'CONTACT_INFO'\n  | 'WIFI'\n  | 'TEXT'\n  | 'ISBN'\n  | 'PRODUCT';\n\ntype Email = {\n  address?: string,\n  body?: string,\n  subject?: string,\n  emailType?: 'UNKNOWN' | 'Work' | 'Home',\n};\n\ntype Phone = {\n  number?: string,\n  phoneType?: 'UNKNOWN' | 'Work' | 'Home' | 'Fax' | 'Mobile',\n};\n\ntype RecordingOptions = {\n  maxDuration?: number,\n  maxFileSize?: number,\n  orientation?: Orientation,\n  quality?: number | string,\n  codec?: string,\n  mute?: boolean,\n  path?: string,\n  videoBitrate?: number,\n};\n\ntype EventCallbackArgumentsType = {\n  nativeEvent: Object,\n};\n\ntype Rect = {\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n};\n\ntype PropsType = typeof View.props & {\n  zoom?: number,\n  maxZoom?: number,\n  ratio?: string,\n  focusDepth?: number,\n  type?: number | string,\n  onCameraReady?: Function,\n  onAudioInterrupted?: Function,\n  onAudioConnected?: Function,\n  onStatusChange?: Function,\n  onBarCodeRead?: Function,\n  onPictureTaken?: Function,\n  onPictureSaved?: Function,\n  onGoogleVisionBarcodesDetected?: ({ barcodes: Array<TrackedBarcodeFeature> }) => void,\n  onSubjectAreaChanged?: ({ nativeEvent: { prevPoint: {| x: number, y: number |} } }) => void,\n  faceDetectionMode?: number,\n  trackingEnabled?: boolean,\n  flashMode?: number | string,\n  exposure?: number,\n  barCodeTypes?: Array<string>,\n  googleVisionBarcodeType?: number,\n  googleVisionBarcodeMode?: number,\n  whiteBalance?: number | string,\n  faceDetectionLandmarks?: number,\n  autoFocus?: string | boolean | number,\n  autoFocusPointOfInterest?: { x: number, y: number },\n  faceDetectionClassifications?: number,\n  onFacesDetected?: ({ faces: Array<TrackedFaceFeature> }) => void,\n  onTextRecognized?: ({ textBlocks: Array<TrackedTextFeature> }) => void,\n  captureAudio?: boolean,\n  useCamera2Api?: boolean,\n  playSoundOnCapture?: boolean,\n  videoStabilizationMode?: number | string,\n  pictureSize?: string,\n  rectOfInterest: Rect,\n};\n\ntype StateType = {\n  isAuthorized: boolean,\n  isAuthorizationChecked: boolean,\n  recordAudioPermissionStatus: RecordAudioPermissionStatus,\n};\n\nexport type Status = 'READY' | 'PENDING_AUTHORIZATION' | 'NOT_AUTHORIZED';\n\nconst CameraStatus: { [key: Status]: Status } = {\n  READY: 'READY',\n  PENDING_AUTHORIZATION: 'PENDING_AUTHORIZATION',\n  NOT_AUTHORIZED: 'NOT_AUTHORIZED',\n};\n\nexport type RecordAudioPermissionStatus = 'AUTHORIZED' | 'NOT_AUTHORIZED' | 'PENDING_AUTHORIZATION';\n\nconst RecordAudioPermissionStatusEnum: {\n  [key: RecordAudioPermissionStatus]: RecordAudioPermissionStatus,\n} = {\n  AUTHORIZED: 'AUTHORIZED',\n  PENDING_AUTHORIZATION: 'PENDING_AUTHORIZATION',\n  NOT_AUTHORIZED: 'NOT_AUTHORIZED',\n};\n\nconst CameraManager: Object = NativeModules.RNCameraManager ||\n  NativeModules.RNCameraModule || {\n    stubbed: true,\n    Type: {\n      back: 1,\n    },\n    AutoFocus: {\n      on: 1,\n    },\n    FlashMode: {\n      off: 1,\n    },\n    WhiteBalance: {},\n    BarCodeType: {},\n    FaceDetection: {\n      fast: 1,\n      Mode: {},\n      Landmarks: {\n        none: 0,\n      },\n      Classifications: {\n        none: 0,\n      },\n    },\n    GoogleVisionBarcodeDetection: {\n      BarcodeType: 0,\n      BarcodeMode: 0,\n    },\n  };\n\nconst EventThrottleMs = 500;\n\nconst mapValues = (input, mapper) => {\n  const result = {};\n  Object.entries(input).map(([key, value]) => {\n    result[key] = mapper(value, key);\n  });\n  return result;\n};\n\nexport default class Camera extends React.Component<PropsType, StateType> {\n  static Constants = {\n    Type: CameraManager.Type,\n    FlashMode: CameraManager.FlashMode,\n    AutoFocus: CameraManager.AutoFocus,\n    WhiteBalance: CameraManager.WhiteBalance,\n    VideoQuality: CameraManager.VideoQuality,\n    VideoCodec: CameraManager.VideoCodec,\n    BarCodeType: CameraManager.BarCodeType,\n    GoogleVisionBarcodeDetection: CameraManager.GoogleVisionBarcodeDetection,\n    FaceDetection: CameraManager.FaceDetection,\n    CameraStatus,\n    RecordAudioPermissionStatus: RecordAudioPermissionStatusEnum,\n    VideoStabilization: CameraManager.VideoStabilization,\n    Orientation: {\n      auto: 'auto',\n      landscapeLeft: 'landscapeLeft',\n      landscapeRight: 'landscapeRight',\n      portrait: 'portrait',\n      portraitUpsideDown: 'portraitUpsideDown',\n    },\n  };\n\n  // Values under keys from this object will be transformed to native options\n  static ConversionTables = {\n    type: CameraManager.Type,\n    flashMode: CameraManager.FlashMode,\n    exposure: CameraManager.Exposure,\n    autoFocus: CameraManager.AutoFocus,\n    whiteBalance: CameraManager.WhiteBalance,\n    faceDetectionMode: (CameraManager.FaceDetection || {}).Mode,\n    faceDetectionLandmarks: (CameraManager.FaceDetection || {}).Landmarks,\n    faceDetectionClassifications: (CameraManager.FaceDetection || {}).Classifications,\n    googleVisionBarcodeType: (CameraManager.GoogleVisionBarcodeDetection || {}).BarcodeType,\n    videoStabilizationMode: CameraManager.VideoStabilization || {},\n  };\n\n  static propTypes = {\n    ...ViewPropTypes,\n    zoom: PropTypes.number,\n    maxZoom: PropTypes.number,\n    ratio: PropTypes.string,\n    focusDepth: PropTypes.number,\n    onMountError: PropTypes.func,\n    onCameraReady: PropTypes.func,\n    onAudioInterrupted: PropTypes.func,\n    onAudioConnected: PropTypes.func,\n    onStatusChange: PropTypes.func,\n    onBarCodeRead: PropTypes.func,\n    onPictureTaken: PropTypes.func,\n    onPictureSaved: PropTypes.func,\n    onGoogleVisionBarcodesDetected: PropTypes.func,\n    onFacesDetected: PropTypes.func,\n    onTextRecognized: PropTypes.func,\n    onSubjectAreaChanged: PropTypes.func,\n    trackingEnabled: PropTypes.bool,\n    faceDetectionMode: PropTypes.number,\n    faceDetectionLandmarks: PropTypes.number,\n    faceDetectionClassifications: PropTypes.number,\n    barCodeTypes: PropTypes.arrayOf(PropTypes.string),\n    googleVisionBarcodeType: PropTypes.number,\n    googleVisionBarcodeMode: PropTypes.number,\n    type: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    cameraId: PropTypes.string,\n    flashMode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    exposure: PropTypes.number,\n    whiteBalance: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    autoFocus: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n    autoFocusPointOfInterest: PropTypes.shape({ x: PropTypes.number, y: PropTypes.number }),\n    permissionDialogTitle: PropTypes.string,\n    permissionDialogMessage: PropTypes.string,\n    androidCameraPermissionOptions: Rationale,\n    androidRecordAudioPermissionOptions: Rationale,\n    notAuthorizedView: PropTypes.element,\n    pendingAuthorizationView: PropTypes.element,\n    captureAudio: PropTypes.bool,\n    useCamera2Api: PropTypes.bool,\n    playSoundOnCapture: PropTypes.bool,\n    videoStabilizationMode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    pictureSize: PropTypes.string,\n    mirrorVideo: PropTypes.bool,\n    rectOfInterest: PropTypes.any,\n    defaultVideoQuality: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  };\n\n  static defaultProps: Object = {\n    zoom: 0,\n    maxZoom: 0,\n    ratio: '4:3',\n    focusDepth: 0,\n    type: CameraManager.Type.back,\n    cameraId: null,\n    autoFocus: CameraManager.AutoFocus.on,\n    flashMode: CameraManager.FlashMode.off,\n    exposure: -1,\n    whiteBalance: CameraManager.WhiteBalance.auto,\n    faceDetectionMode: (CameraManager.FaceDetection || {}).fast,\n    barCodeTypes: Object.values(CameraManager.BarCodeType),\n    googleVisionBarcodeType: ((CameraManager.GoogleVisionBarcodeDetection || {}).BarcodeType || {})\n      .None,\n    googleVisionBarcodeMode: ((CameraManager.GoogleVisionBarcodeDetection || {}).BarcodeMode || {})\n      .NORMAL,\n    faceDetectionLandmarks: ((CameraManager.FaceDetection || {}).Landmarks || {}).none,\n    faceDetectionClassifications: ((CameraManager.FaceDetection || {}).Classifications || {}).none,\n    permissionDialogTitle: '',\n    permissionDialogMessage: '',\n    androidCameraPermissionOptions: {\n      title: '',\n      message: '',\n    },\n    androidRecordAudioPermissionOptions: {\n      title: '',\n      message: '',\n    },\n    notAuthorizedView: (\n      <View style={styles.authorizationContainer}>\n        <Text style={styles.notAuthorizedText}>Camera not authorized</Text>\n      </View>\n    ),\n    pendingAuthorizationView: (\n      <View style={styles.authorizationContainer}>\n        <ActivityIndicator size=\"small\" />\n      </View>\n    ),\n    captureAudio: true,\n    useCamera2Api: false,\n    playSoundOnCapture: false,\n    pictureSize: 'None',\n    videoStabilizationMode: 0,\n    mirrorVideo: false,\n  };\n\n  _cameraRef: ?Object;\n  _cameraHandle: ?number;\n  _lastEvents: { [string]: string };\n  _lastEventsTimes: { [string]: Date };\n  _isMounted: boolean;\n\n  constructor(props: PropsType) {\n    super(props);\n    this._lastEvents = {};\n    this._lastEventsTimes = {};\n    this._isMounted = true;\n    this.state = {\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      recordAudioPermissionStatus: RecordAudioPermissionStatusEnum.PENDING_AUTHORIZATION,\n    };\n  }\n\n  async takePictureAsync(options?: PictureOptions) {\n    if (!options) {\n      options = {};\n    }\n    if (!options.quality) {\n      options.quality = 1;\n    }\n\n    if (options.orientation) {\n      if (typeof options.orientation !== 'number') {\n        const { orientation } = options;\n        options.orientation = CameraManager.Orientation[orientation];\n        if (__DEV__) {\n          if (typeof options.orientation !== 'number') {\n            // eslint-disable-next-line no-console\n            console.warn(`Orientation '${orientation}' is invalid.`);\n          }\n        }\n      }\n    }\n\n    if (options.pauseAfterCapture === undefined) {\n      options.pauseAfterCapture = false;\n    }\n\n    if (!this._cameraHandle) {\n      throw 'Camera handle cannot be null';\n    }\n\n    return await CameraManager.takePicture(options, this._cameraHandle);\n  }\n\n  async getSupportedRatiosAsync() {\n    if (Platform.OS === 'android') {\n      return await CameraManager.getSupportedRatios(this._cameraHandle);\n    } else {\n      throw new Error('Ratio is not supported on iOS');\n    }\n  }\n\n  async getCameraIdsAsync() {\n    if (Platform.OS === 'android') {\n      return await CameraManager.getCameraIds(this._cameraHandle);\n    } else {\n      return await CameraManager.getCameraIds(); // iOS does not need a camera instance\n    }\n  }\n\n  getAvailablePictureSizes = async (): string[] => {\n    //$FlowFixMe\n    return await CameraManager.getAvailablePictureSizes(this.props.ratio, this._cameraHandle);\n  };\n\n  async recordAsync(options?: RecordingOptions) {\n    if (!options || typeof options !== 'object') {\n      options = {};\n    } else if (typeof options.quality === 'string') {\n      options.quality = Camera.Constants.VideoQuality[options.quality];\n    }\n    if (options.orientation) {\n      if (typeof options.orientation !== 'number') {\n        const { orientation } = options;\n        options.orientation = CameraManager.Orientation[orientation];\n        if (__DEV__) {\n          if (typeof options.orientation !== 'number') {\n            // eslint-disable-next-line no-console\n            console.warn(`Orientation '${orientation}' is invalid.`);\n          }\n        }\n      }\n    }\n\n    if (__DEV__) {\n      if (options.videoBitrate && typeof options.videoBitrate !== 'number') {\n        // eslint-disable-next-line no-console\n        console.warn('Video Bitrate should be a positive integer');\n      }\n    }\n\n    const { recordAudioPermissionStatus } = this.state;\n    const { captureAudio } = this.props;\n\n    if (\n      !captureAudio ||\n      recordAudioPermissionStatus !== RecordAudioPermissionStatusEnum.AUTHORIZED\n    ) {\n      options.mute = true;\n    }\n\n    if (__DEV__) {\n      if (\n        (!options.mute || captureAudio) &&\n        recordAudioPermissionStatus !== RecordAudioPermissionStatusEnum.AUTHORIZED\n      ) {\n        // eslint-disable-next-line no-console\n        console.warn('Recording with audio not possible. Permissions are missing.');\n      }\n    }\n\n    return await CameraManager.record(options, this._cameraHandle);\n  }\n\n  stopRecording() {\n    CameraManager.stopRecording(this._cameraHandle);\n  }\n\n  pausePreview() {\n    CameraManager.pausePreview(this._cameraHandle);\n  }\n\n  isRecording() {\n    return CameraManager.isRecording(this._cameraHandle);\n  }\n\n  resumePreview() {\n    CameraManager.resumePreview(this._cameraHandle);\n  }\n\n  _onMountError = ({ nativeEvent }: EventCallbackArgumentsType) => {\n    if (this.props.onMountError) {\n      this.props.onMountError(nativeEvent);\n    }\n  };\n\n  _onCameraReady = () => {\n    if (this.props.onCameraReady) {\n      this.props.onCameraReady();\n    }\n  };\n\n  _onAudioInterrupted = () => {\n    if (this.props.onAudioInterrupted) {\n      this.props.onAudioInterrupted();\n    }\n  };\n\n  _onAudioConnected = () => {\n    if (this.props.onAudioConnected) {\n      this.props.onAudioConnected();\n    }\n  };\n\n  _onStatusChange = () => {\n    if (this.props.onStatusChange) {\n      this.props.onStatusChange({\n        cameraStatus: this.getStatus(),\n        recordAudioPermissionStatus: this.state.recordAudioPermissionStatus,\n      });\n    }\n  };\n\n  _onPictureSaved = ({ nativeEvent }: EventCallbackArgumentsType) => {\n    if (this.props.onPictureSaved) {\n      this.props.onPictureSaved(nativeEvent);\n    }\n  };\n\n  _onObjectDetected = (callback: ?Function) => ({ nativeEvent }: EventCallbackArgumentsType) => {\n    const { type } = nativeEvent;\n    if (\n      this._lastEvents[type] &&\n      this._lastEventsTimes[type] &&\n      JSON.stringify(nativeEvent) === this._lastEvents[type] &&\n      new Date() - this._lastEventsTimes[type] < EventThrottleMs\n    ) {\n      return;\n    }\n\n    if (callback) {\n      callback(nativeEvent);\n      this._lastEventsTimes[type] = new Date();\n      this._lastEvents[type] = JSON.stringify(nativeEvent);\n    }\n  };\n\n  _onSubjectAreaChanged = e => {\n    if (this.props.onSubjectAreaChanged) {\n      this.props.onSubjectAreaChanged(e);\n    }\n  };\n\n  _setReference = (ref: ?Object) => {\n    if (ref) {\n      this._cameraRef = ref;\n      this._cameraHandle = findNodeHandle(ref);\n    } else {\n      this._cameraRef = null;\n      this._cameraHandle = null;\n    }\n  };\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  async arePermissionsGranted() {\n    const {\n      permissionDialogTitle,\n      permissionDialogMessage,\n      androidCameraPermissionOptions,\n      androidRecordAudioPermissionOptions,\n    } = this.props;\n\n    let cameraPermissions = androidCameraPermissionOptions;\n    let audioPermissions = androidRecordAudioPermissionOptions;\n    if (permissionDialogTitle || permissionDialogMessage) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'permissionDialogTitle and permissionDialogMessage are deprecated. Please use androidCameraPermissionOptions instead.',\n      );\n      cameraPermissions = {\n        ...cameraPermissions,\n        title: permissionDialogTitle,\n        message: permissionDialogMessage,\n      };\n      audioPermissions = {\n        ...audioPermissions,\n        title: permissionDialogTitle,\n        message: permissionDialogMessage,\n      };\n    }\n\n    const { hasCameraPermissions, hasRecordAudioPermissions } = await requestPermissions(\n      this.props.captureAudio,\n      CameraManager,\n      cameraPermissions,\n      audioPermissions,\n    );\n\n    const recordAudioPermissionStatus = hasRecordAudioPermissions\n      ? RecordAudioPermissionStatusEnum.AUTHORIZED\n      : RecordAudioPermissionStatusEnum.NOT_AUTHORIZED;\n    return { hasCameraPermissions, recordAudioPermissionStatus };\n  }\n\n  async refreshAuthorizationStatus() {\n    const {\n      hasCameraPermissions,\n      recordAudioPermissionStatus,\n    } = await this.arePermissionsGranted();\n    if (this._isMounted === false) {\n      return;\n    }\n\n    this.setState({\n      isAuthorized: hasCameraPermissions,\n      isAuthorizationChecked: true,\n      recordAudioPermissionStatus,\n    });\n  }\n\n  async componentDidMount() {\n    const {\n      hasCameraPermissions,\n      recordAudioPermissionStatus,\n    } = await this.arePermissionsGranted();\n    if (this._isMounted === false) {\n      return;\n    }\n\n    this.setState(\n      {\n        isAuthorized: hasCameraPermissions,\n        isAuthorizationChecked: true,\n        recordAudioPermissionStatus,\n      },\n      this._onStatusChange,\n    );\n  }\n\n  getStatus = (): Status => {\n    const { isAuthorized, isAuthorizationChecked } = this.state;\n    if (isAuthorizationChecked === false) {\n      return CameraStatus.PENDING_AUTHORIZATION;\n    }\n    return isAuthorized ? CameraStatus.READY : CameraStatus.NOT_AUTHORIZED;\n  };\n\n  // FaCC = Function as Child Component;\n  hasFaCC = (): * => typeof this.props.children === 'function';\n\n  renderChildren = (): * => {\n    if (this.hasFaCC()) {\n      return this.props.children({\n        camera: this,\n        status: this.getStatus(),\n        recordAudioPermissionStatus: this.state.recordAudioPermissionStatus,\n      });\n    }\n    return this.props.children;\n  };\n\n  render() {\n    const { style, ...nativeProps } = this._convertNativeProps(this.props);\n\n    if (this.state.isAuthorized || this.hasFaCC()) {\n      return (\n        <View style={style}>\n          <RNCamera\n            {...nativeProps}\n            style={StyleSheet.absoluteFill}\n            ref={this._setReference}\n            onMountError={this._onMountError}\n            onCameraReady={this._onCameraReady}\n            onAudioInterrupted={this._onAudioInterrupted}\n            onAudioConnected={this._onAudioConnected}\n            onGoogleVisionBarcodesDetected={this._onObjectDetected(\n              this.props.onGoogleVisionBarcodesDetected,\n            )}\n            onBarCodeRead={this._onObjectDetected(this.props.onBarCodeRead)}\n            onFacesDetected={this._onObjectDetected(this.props.onFacesDetected)}\n            onTextRecognized={this._onObjectDetected(this.props.onTextRecognized)}\n            onPictureSaved={this._onPictureSaved}\n            onSubjectAreaChanged={this._onSubjectAreaChanged}\n          />\n          {this.renderChildren()}\n        </View>\n      );\n    } else if (!this.state.isAuthorizationChecked) {\n      return this.props.pendingAuthorizationView;\n    } else {\n      return this.props.notAuthorizedView;\n    }\n  }\n\n  _convertNativeProps({ children, ...props }: PropsType) {\n    const newProps = mapValues(props, this._convertProp);\n\n    if (props.onBarCodeRead) {\n      newProps.barCodeScannerEnabled = true;\n    }\n\n    if (props.onGoogleVisionBarcodesDetected) {\n      newProps.googleVisionBarcodeDetectorEnabled = true;\n    }\n\n    if (props.onFacesDetected) {\n      newProps.faceDetectorEnabled = true;\n    }\n\n    if (props.onTextRecognized) {\n      newProps.textRecognizerEnabled = true;\n    }\n\n    if (Platform.OS === 'ios') {\n      delete newProps.googleVisionBarcodeMode;\n      delete newProps.ratio;\n    }\n\n    return newProps;\n  }\n\n  _convertProp(value: *, key: string): * {\n    if (typeof value === 'string' && Camera.ConversionTables[key]) {\n      return Camera.ConversionTables[key][value];\n    }\n\n    return value;\n  }\n}\n\nexport const Constants = Camera.Constants;\n\nconst RNCamera = requireNativeComponent('RNCamera', Camera, {\n  nativeOnly: {\n    accessibilityComponentType: true,\n    accessibilityLabel: true,\n    accessibilityLiveRegion: true,\n    barCodeScannerEnabled: true,\n    googleVisionBarcodeDetectorEnabled: true,\n    faceDetectorEnabled: true,\n    textRecognizerEnabled: true,\n    importantForAccessibility: true,\n    onBarCodeRead: true,\n    onGoogleVisionBarcodesDetected: true,\n    onCameraReady: true,\n    onAudioInterrupted: true,\n    onAudioConnected: true,\n    onPictureSaved: true,\n    onFaceDetected: true,\n    onLayout: true,\n    onMountError: true,\n    onSubjectAreaChanged: true,\n    renderToHardwareTextureAndroid: true,\n    testID: true,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}